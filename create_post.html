<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Y - School Social Media</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <!-- HEADER / NAVBAR -->
    <header>
        <div class="logo">Y</div>

        <nav>
            <a href="#">Home</a>
            <a href="#">Posts</a>
            <a href="#">Clubs</a>
            <a href="#">Profile</a>
        </nav>

        <div>
            <button class="login-btn">Login</button>
            <button class="theme-btn" id="themeToggle">Dark Mode</button>
        </div>
    </header>

    <!-- HERO SECTION -->
    <section class="hero">
        <h1>Welcome to <span>Y</span></h1>
        <p>The official social space for our school community.</p>
        <button class="cta" id="add_post">Add post</button>

        <div style="display: none" id="add_post_form">
            <h2>Create a Post</h2>
            <input type="text" id="postTitle" placeholder="Title..." /><br><br>
            <textarea id="postContent" placeholder="Write your post..."></textarea><br>
            <button id="submitPost" class="cta">Submit</button>
        </div>
    </section>

    <!-- FEED SECTION -->
    <section class="feed">
        <h2>Recent Posts</h2>

        <div class="post">
            <h3>Science Club</h3>
            <p>Donâ€™t forget about our meeting this Thursday after school!</p>
        </div>

        <div class="post">
            <h3>Sports Department</h3>
            <p>Track tryouts start next week. Bring your running shoes!</p>
        </div>

        <div class="post">
            <h3>Art Class</h3>
            <p>Art show submissions are now open.</p>
        </div>
    </section>

    <!-- ðŸ”¥ FIREBASE (FIXED) -->
    <script type="module">
        // Firebase imports (no analytics â€“ avoids HTTPS errors)
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBui0laG_D2zwqlBLoAw2zSUgrqS-4lA_M",
            authDomain: "cmms-y.firebaseapp.com",
            projectId: "cmms-y",
            storageBucket: "cmms-y.appspot.com",     // FIXED
            messagingSenderId: "461705384988",
            appId: "1:461705384988:web:92d66768fff4548186bbd9"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
    </script>

    <!-- THEME SWITCH SCRIPT -->
    <script>
        const themeBtn = document.getElementById("themeToggle");

        if (localStorage.getItem("theme") === "dark") {
            document.body.classList.add("dark-theme");
            themeBtn.textContent = "Light Mode";
        }

        themeBtn.onclick = () => {
            document.body.classList.toggle("dark-theme");

            const isDark = document.body.classList.contains("dark-theme");
            themeBtn.textContent = isDark ? "Light Mode" : "Dark Mode";
            localStorage.setItem("theme", isDark ? "dark" : "light");
        };
    </script>

    <!-- ADD POST + SUBMIT FIXED -->
    <script>
        const $ = document.getElementById.bind(document);

        $('add_post').onclick = () => $('add_post_form').style.display = 'block';

        // FIXED: id was wrong â†’ now uses "submitPost"
        $('submitPost').onclick = () => {
            alert("submitted!");
        };
    </script>

</body>
</html>
